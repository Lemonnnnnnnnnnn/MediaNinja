---
description:
globs:
alwaysApply: false
---
# MediaNinja 开发指南

本指南提供了开发和扩展 MediaNinja 的相关信息。

## 添加新的网站支持

要添加对新网站的支持，需要在 `core/parsers/` 目录下创建新的解析器，实现相应的接口方法。

建议步骤：
1. 分析目标网站的媒体内容结构
2. 创建新的解析器实现
3. 在 crawler 模块中注册新的解析器

## 代码组织原则

- **模块化设计**：每个组件应该有明确的职责
- **接口优先**：使用接口定义组件间交互，便于测试和替换实现
- **并发安全**：确保并发操作的安全性
- **错误处理**：优雅处理错误并提供有用的错误信息

## 主要接口

核心功能通过接口定义，使得系统易于扩展：

- **Crawler**：负责整体下载流程
- **Parser**：负责解析不同网站的结构
- **Downloader**：负责实际文件下载操作
- **Config**：提供配置参数

## 开发环境设置

1. 安装 Go 1.23 或更高版本
2. 安装 ffmpeg（用于媒体处理）
3. 克隆仓库：`git clone [仓库URL]`
4. 安装依赖：`go mod download`
5. 编译项目：`go build -o MediaNinja`
